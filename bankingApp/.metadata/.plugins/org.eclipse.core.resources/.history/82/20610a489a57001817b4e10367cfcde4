package com;
import java.util.ArrayList;

public class BankingEngine {

	
	ArrayList<Customer> getAllCustomers() {
		DAO readAccessObj = new DAO();
		return readAccessObj.readCustomers();
	}
	
	boolean existsUsername (String username) {
		ArrayList<Customer> customers = getAllCustomers();
		return customers.stream().anyMatch( s -> s.getUsername().equalsIgnoreCase(username));
	}
	
	boolean existsPassword (String password) {
		ArrayList<Customer> customers = getAllCustomers();
		return customers.stream().anyMatch( s -> s.getPassword().equals(password));
	}
	void addCustomer(Customer s) {
		DAO writeAccessObject = new DAO();
		writeAccessObject.addCustomer(s);
		
	}
	
	void depositMoney(String username, Double amount) {
		ArrayList<Customer> customers = getAllCustomers();
		if (customers.size() !=0) {
			for (Customer customer : customers) {
				if (customer.getUsername().equalsIgnoreCase(username)){
					customer.setBalance(amount);
					System.out.println("Amount " + amount + "has been added to you account" );
				}
		}
			
		if (customers.size() != 0) {
				for (Customer s : customers) {
					System.out.println(s.toString());
				}
			}	
		
		}
		
		//customers.stream()(s -> {if(s.getUsername().equalsIgnoreCase(username)) return true;} );
		
		
	}

}
